<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Interactive component | Cancer Statistic</title>
  <meta name="description" content="Chapter 6 Interactive component | Cancer Statistic" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Interactive component | Cancer Statistic" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Interactive component | Cancer Statistic" />
  
  
  

<meta name="author" content="Yiquan Li, Chenxi Jiang, Zezhong Fan" />


<meta name="date" content="2021-12-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="results.html"/>
<link rel="next" href="conclusion.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/proj4js-2.3.15/proj4.js"></script>
<link href="libs/highcharts-8.1.2/css/motion.css" rel="stylesheet" />
<script src="libs/highcharts-8.1.2/highcharts.js"></script>
<script src="libs/highcharts-8.1.2/highcharts-3d.js"></script>
<script src="libs/highcharts-8.1.2/highcharts-more.js"></script>
<script src="libs/highcharts-8.1.2/modules/stock.js"></script>
<script src="libs/highcharts-8.1.2/modules/map.js"></script>
<script src="libs/highcharts-8.1.2/modules/annotations.js"></script>
<script src="libs/highcharts-8.1.2/modules/data.js"></script>
<script src="libs/highcharts-8.1.2/modules/drilldown.js"></script>
<script src="libs/highcharts-8.1.2/modules/item-series.js"></script>
<script src="libs/highcharts-8.1.2/modules/offline-exporting.js"></script>
<script src="libs/highcharts-8.1.2/modules/overlapping-datalabels.js"></script>
<script src="libs/highcharts-8.1.2/modules/exporting.js"></script>
<script src="libs/highcharts-8.1.2/modules/export-data.js"></script>
<script src="libs/highcharts-8.1.2/modules/funnel.js"></script>
<script src="libs/highcharts-8.1.2/modules/heatmap.js"></script>
<script src="libs/highcharts-8.1.2/modules/treemap.js"></script>
<script src="libs/highcharts-8.1.2/modules/sankey.js"></script>
<script src="libs/highcharts-8.1.2/modules/dependency-wheel.js"></script>
<script src="libs/highcharts-8.1.2/modules/organization.js"></script>
<script src="libs/highcharts-8.1.2/modules/solid-gauge.js"></script>
<script src="libs/highcharts-8.1.2/modules/streamgraph.js"></script>
<script src="libs/highcharts-8.1.2/modules/sunburst.js"></script>
<script src="libs/highcharts-8.1.2/modules/vector.js"></script>
<script src="libs/highcharts-8.1.2/modules/wordcloud.js"></script>
<script src="libs/highcharts-8.1.2/modules/xrange.js"></script>
<script src="libs/highcharts-8.1.2/modules/tilemap.js"></script>
<script src="libs/highcharts-8.1.2/modules/venn.js"></script>
<script src="libs/highcharts-8.1.2/modules/gantt.js"></script>
<script src="libs/highcharts-8.1.2/modules/timeline.js"></script>
<script src="libs/highcharts-8.1.2/modules/parallel-coordinates.js"></script>
<script src="libs/highcharts-8.1.2/modules/bullet.js"></script>
<script src="libs/highcharts-8.1.2/modules/coloraxis.js"></script>
<script src="libs/highcharts-8.1.2/modules/dumbbell.js"></script>
<script src="libs/highcharts-8.1.2/modules/lollipop.js"></script>
<script src="libs/highcharts-8.1.2/modules/series-label.js"></script>
<script src="libs/highcharts-8.1.2/plugins/motion.js"></script>
<script src="libs/highcharts-8.1.2/custom/reset.js"></script>
<script src="libs/highcharts-8.1.2/modules/boost.js"></script>
<script src="libs/highchart-binding-0.8.2/highchart.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Cancer Stat</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#data-on-cancer-by-risk"><i class="fa fa-check"></i><b>2.1</b> Data on Cancer by Risk</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#data-on-cancer-by-country-development"><i class="fa fa-check"></i><b>2.2</b> Data on Cancer by Country Development</a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#data-on-cancer-over-time"><i class="fa fa-check"></i><b>2.3</b> Data on Cancer over Time</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#cancer-risk-data-transformation"><i class="fa fa-check"></i><b>3.1</b> Cancer Risk Data Transformation</a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#cancer-by-country-data-transformation"><i class="fa fa-check"></i><b>3.2</b> Cancer by Country Data Transformation</a></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#cancer-time-series-data-transformation"><i class="fa fa-check"></i><b>3.3</b> Cancer Time Series Data Transformation</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a>
<ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#cancer-risk-dataset"><i class="fa fa-check"></i><b>4.1</b> Cancer Risk Dataset</a></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#cancer-by-country-dataset"><i class="fa fa-check"></i><b>4.2</b> Cancer by Country Dataset</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#the-effect-of-external-factors-on-cancer"><i class="fa fa-check"></i><b>5.1</b> The Effect of External Factors on Cancer</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#share-of-cancer-deaths-attributed-to-risk-factors-from-1990-2019"><i class="fa fa-check"></i><b>5.1.1</b> Share of cancer deaths attributed to risk factors from 1990-2019</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#risk-distribution-over-different-types-of-cancer-1990-2019"><i class="fa fa-check"></i><b>5.1.2</b> Risk distribution over different types of cancer (1990, 2019)</a></li>
<li class="chapter" data-level="5.1.3" data-path="results.html"><a href="results.html#death-number-and-rate-by-risks-over-the-30-years-1990-2019"><i class="fa fa-check"></i><b>5.1.3</b> Death Number and Rate by Risks over the 30 years (1990-2019)</a></li>
<li class="chapter" data-level="5.1.4" data-path="results.html"><a href="results.html#death-rate-by-sex-and-age-for-different-risks"><i class="fa fa-check"></i><b>5.1.4</b> Death Rate by Sex and Age for Different Risks</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#relationship-between-cancer-deaths-and-country-development"><i class="fa fa-check"></i><b>5.2</b> Relationship between Cancer Deaths and Country Development</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="results.html"><a href="results.html#heatmap-of-death-rate-in-world"><i class="fa fa-check"></i><b>5.2.1</b> Heatmap of Death Rate in World</a></li>
<li class="chapter" data-level="5.2.2" data-path="results.html"><a href="results.html#bubble-plot-of-death-rate-vs-health-cost-of-gdp"><i class="fa fa-check"></i><b>5.2.2</b> Bubble Plot of Death Rate vs Health Cost of GDP</a></li>
<li class="chapter" data-level="5.2.3" data-path="results.html"><a href="results.html#accumulated-death-among-countries"><i class="fa fa-check"></i><b>5.2.3</b> Accumulated Death Among Countries</a></li>
<li class="chapter" data-level="5.2.4" data-path="results.html"><a href="results.html#death-rate-by-gdp"><i class="fa fa-check"></i><b>5.2.4</b> Death Rate by GDP</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#is-the-world-making-progress-against-cancers"><i class="fa fa-check"></i><b>5.3</b> Is the World Making Progress against Cancers?</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="results.html"><a href="results.html#age-standardized-cancer-death-rates"><i class="fa fa-check"></i><b>5.3.1</b> Age-standardized cancer death rates</a></li>
<li class="chapter" data-level="5.3.2" data-path="results.html"><a href="results.html#the-number-of-cancer-deaths-is-increasing"><i class="fa fa-check"></i><b>5.3.2</b> The number of cancer deaths is increasing</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a>
<ul>
<li class="chapter" data-level="7.1" data-path="conclusion.html"><a href="conclusion.html#lessons"><i class="fa fa-check"></i><b>7.1</b> Lessons</a></li>
<li class="chapter" data-level="7.2" data-path="conclusion.html"><a href="conclusion.html#limitations"><i class="fa fa-check"></i><b>7.2</b> Limitations</a></li>
<li class="chapter" data-level="7.3" data-path="conclusion.html"><a href="conclusion.html#further-direction"><i class="fa fa-check"></i><b>7.3</b> Further Direction</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Cancer Statistic</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="interactive-component" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> Interactive component</h1>
<html lang="en">
<head>
<meta charset="UTF-8">
<script src="https://d3js.org/d3.v7.js"></script>
<title>
Interactive Plot
</title>
</head>
<body>
<header>
<h2>
<b>Death rate (per 100k) by Country over Years</b>
</h2>
</header>
<p>
<p><b>Instructions:</b>
1. Click the buttons to compare death rate in different years</p>
<ol start="2" style="list-style-type: decimal">
<li>Hover the mouse over a bar (bar turns orange) to see the exact death rate of a country</li>
</ol>
<p><b>Description:</b>
The interactive plot is built with D3 version 7. It shows the death rate of 19 chosen countries from year 1990 to year 2019 with every 5 years apart (except for 2019 since we do not have data for 2020). By clicking the “year” button in order, we can clearly see how and how fast the death rate increases over years. If look carefully, we can notice that the death rate for Japan always increases at a fast rate. It is surprising since people may think developed country should have excellent medical facility and so lead to slow increasing in cancer death rate. But the plot shows that developed countries actually have larger increasing rate of cancer death rate than that of developing and under developed country.</p>
</p>
<div id="interaction">
<button onclick="update('1990')">Year 1990</button>
<button onclick="update('1995')">Year 1995</button>
<button onclick="update('2000')">Year 2000</button>
<button onclick="update('2005')">Year 2005</button>
<button onclick="update('2010')">Year 2010</button>
<button onclick="update('2015')">Year 2015</button>
<button onclick="update('2019')">Year 2019</button>
</div>
<script>
   var margin = {top: 60, right: 30, bottom: 200, left: 50};
   var height = 600 - margin.top - margin.bottom;
   var width = 800 - margin.right - margin.left;
   var svg = d3.select("#interaction")
                .append("svg")
                  .attr("width", width + margin.left + margin.right)
                  .attr("height", height + margin.top + margin.bottom)
                .append("g")
                  .attr("transform","translate(" + margin.left + "," + margin.top + ")");

   var x = d3.scaleBand().range([0,width]).paddingInner(0.05);
   var y = d3.scaleLinear().range([height,0]);
   var xAxis = svg.append("g")
     .attr("transform", "translate(0," + height + ")");
   var yAxis = svg.append("g")
     .attr("class", "myYaxis1");

   function update(selectedVar) {
   d3.csv("https://raw.githubusercontent.com/Maggieli99/Cancerstatistic/main/data/interactive.csv").then(function(data){
      x.domain(data.map(function(d) { return d.location; }))
          xAxis.call(d3.axisBottom(x))
          .selectAll("text")
          .style("text-anchor", "end")
          .attr("transform", "rotate(-75)")
          .attr("dx","-.8em")
          .attr("dy","-.5em")

          y.domain([0, 350])//d3.max(data, function(d) { return +d[selectedVar] }) ]);
          yAxis.call(d3.axisLeft(y));

          // create line

         var bars = svg.selectAll(".bar").data(data)
         
         
         bars.enter()
             .append("rect")
             .attr("class", "bar")
             .on("mouseover", function(){ d3.select(this).attr("fill", "orange");})
              .on("mouseout", function(){ d3.select(this).attr("fill", "steelblue");})

             .merge(bars)
             .transition()
             .duration(800)
                  .attr("x", function(d) {return x(d.location);})
                   .attr("y", function(d) {return y(d[selectedVar]);})
                   .attr("width", x.bandwidth()*0.95)
                   .attr("height", function(d) {return height - y(d[selectedVar])})
                   .attr("fill", "steelblue")
                   
          bars.on("mouseover", function(){ d3.select(this).attr("fill", "orange");})
              .on("mouseout", function(){ d3.select(this).attr("fill", "steelblue");});
              

    });
   }
   update('1990')




 </script>
</body>
</html>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="results.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conclusion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Maggieli99/Cancerstatistic/edit/main/06-interactive.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/Maggieli99/Cancerstatistic/blob/main/06-interactive.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
